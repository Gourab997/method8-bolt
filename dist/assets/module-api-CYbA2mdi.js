import{b as m}from"./index-oREoqiUU.js";const a="assessment_module",d=m.injectEndpoints({endpoints:u=>({getAssessmentModules:u.query({query:({assessmentId:e,page:t,limit:s})=>`/api/v1/assessment_modules?${new URLSearchParams({assessment_id:e,page:t,limit:s}).toString()}`,providesTags:e=>e?.data?.assessment_modules?[...e.data.assessment_modules.map(({id:s})=>({type:a,id:s})),{type:a,id:"LIST"}]:[{type:a,id:"LIST"}],keepUnusedDataFor:60,refetchOnFocus:!0,refetchOnReconnect:!0}),getModule:u.query({query:e=>`/api/v1/assessment_modules/${e}`,providesTags:(e,t,s)=>[{type:a,id:s}]}),updateModule:u.mutation({query:({id:e,...t})=>({url:`/api/v1/assessment_modules/${e}`,method:"PUT",body:t}),invalidatesTags:(e,t,{id:s})=>[{type:a,id:s},{type:a,id:"LIST"}],async onQueryStarted({id:e,form_data:t},{dispatch:s,queryFulfilled:o}){const n=s(d.util.updateQueryData("getModule",e,r=>{r.data.assessment_module.form_data=t}));try{await o}catch{n.undo()}}}),createAssessmentModule:u.mutation({query:e=>({url:`/api/v1/assessment_modules?assessment_id=${e}`,method:"POST"}),invalidatesTags:[{type:a,id:"LIST"}]}),deleteModule:u.mutation({query:e=>({url:`/api/v1/assessment_modules/${e}`,method:"DELETE"}),invalidatesTags:(e,t,s)=>[{type:a,id:s},{type:a,id:"LIST"}]})})}),{useGetAssessmentModulesQuery:l,useGetModuleQuery:p,useUpdateModuleMutation:y,useCreateAssessmentModuleMutation:c,useDeleteModuleMutation:_}=d;export{_ as a,c as b,l as c,p as d,y as u};
