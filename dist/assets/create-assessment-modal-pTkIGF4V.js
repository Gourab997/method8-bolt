import{c as I,j as e}from"./index-oREoqiUU.js";import{N as M,r as A}from"./vendor-BBLzNF_7.js";import{F as s,s as j,M as C,I as g,a as o,T as a}from"./antd-BTTnWTpg.js";const{Option:r}=o,c={2:"red",1:"blue",0:"gold"},d={0:"blue",1:"gold",2:"green"},u={0:"In Design",1:"Pending",2:"Completed"},T=({visible:f,onCancel:n})=>{const[t]=s.useForm(),[v,{isLoading:m,isSuccess:h,isError:x,error:i}]=I(),p=M(l=>l.auth.organization);A.useEffect(()=>{if(h&&(j.success("Assessment created successfully!"),t.resetFields(),n()),x){const l=i.data?.errors||i.data?.message||"An unexpected error occurred.";j.error(l)}},[h,x,i,t,n]);const y=async()=>{const b={...await t.validateFields(),organization_id:p.id};await v(b)};return e.jsx(C,{cancelText:"Cancel",confirmLoading:m,okButtonProps:{disabled:!p||m},okText:"Create",onCancel:n,onOk:y,open:f,title:"Add New Assessment",children:e.jsxs(s,{form:t,layout:"vertical",name:"form_in_modal",requiredMark:!1,children:[e.jsx(s.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input the name of the assessment!"}],children:e.jsx(g,{autoComplete:"off"})}),e.jsx(s.Item,{label:"Department",name:"department",rules:[{required:!0,message:"Please input the department!"}],children:e.jsx(g,{autoComplete:"off"})}),e.jsx(s.Item,{initialValue:1,label:"Priority",name:"priority",rules:[{required:!0,message:"Please select a priority!"}],children:e.jsxs(o,{children:[e.jsx(r,{value:2,children:e.jsx(a,{color:c[2],children:"High"})}),e.jsx(r,{value:1,children:e.jsx(a,{color:c[1],children:"Medium"})}),e.jsx(r,{value:0,children:e.jsx(a,{color:c[0],children:"Low"})})]})}),e.jsx(s.Item,{initialValue:0,label:"Status",name:"status",rules:[{required:!0,message:"Please select a status!"}],children:e.jsxs(o,{placeholder:"Select a status",children:[e.jsx(r,{value:0,children:e.jsx(a,{color:d[0],children:u[0]})}),e.jsx(r,{value:1,children:e.jsx(a,{color:d[1],children:u[1]})}),e.jsx(r,{value:2,children:e.jsx(a,{color:d[2],children:u[2]})})]})}),e.jsx(s.Item,{label:"Tags",name:"tags",children:e.jsx(o,{mode:"tags",placeholder:"Type and press space to add tags",style:{width:"100%"},tokenSeparators:[" "]})})]})})};export{T as default};
